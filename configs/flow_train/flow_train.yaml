defaults:
  - _self_ # First takes priority so any properties redefined here take precedence
  - model: unet
  - paths: mac # Simply override in cli call

dataset:
  path: ${paths.data_path}/CAMUS_Latents_${vae.resolution}
  max_frames: 32
  batch_size: 4

flow:
  type: linear
  #kwargs:
  #  clip_values: [-10, 10]
  #  clip_flow_values: [-10, 10]

vae:
  resolution: 4f4
  scaling_factors:
    4f4: 0.1080
    4f8: 0.2232
  scaling_factor: ${vae.scaling_factors.${vae.resolution}}

trainer:
  lr: 1e-4
  kwargs:
    max_epochs: 2
    precision: 32
    accelerator: auto
    val_check_interval: 0.1
    #profiler: simple


sample_every_n_val_steps: 2
ckpt:
  metric:
    monitor: val_loss
    filename: '{epoch}-{step}-{${ckpt.metric.monitor}:.3f}'
    save_top_k: 1
    mode: min
  periodic:
    filename: '{epoch}-{step}' #quote marks needed
    monitor: epoch
    mode: max
    save_top_k: 2
    every_n_epochs: 10
    save_last: True

  
wandb:
  project: go-with-the-flow
  entity: engemmanuel
  group: ${flow.type}
  #mode: offline

hydra:
  run:
    dir: ${paths.train_output_path}/hydra_outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}